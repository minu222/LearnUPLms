<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>DW Academy - 시험 문제 등록/수정</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/adminpages/css/style.css}" />
    <link rel="stylesheet" th:href="@{/adminpages/css/menu.css}" />
</head>
<body>
<div th:replace="adminpages/menu :: menu"></div>

<main class="main">
    <div class="content-box card">
        <header class="card-header">
            <h2 class="card-title" th:text="${mockExam.examId == null} ? '시험 문제 등록' : '시험 문제 수정'">시험 문제 등록/수정</h2>
        </header>

        <section class="card-body">
            <form th:action="@{/admin/mock-exams/save}" method="post" class="classroom-form">
                <input type="hidden" name="examId" th:value="${mockExam.examId}" />

                <div class="form-row">
                    <label th:for="courseTitle">
                        제목
                        <textarea th:id="courseTitle"
                                  th:name="courseTitle"
                                  th:text="${mockExam.courseTitle}" class="form-textarea" required></textarea>
                    </label>
                </div>

                <div class="form-row">
                    <label th:for="question">
                        문제
                        <textarea th:id="question"
                                  th:name="question"
                                  th:text="${mockExam.question}" class="form-textarea" required></textarea>
                    </label>
                </div>

                <div class="form-row">
                    <label th:for="option1">
                        1번
                        <textarea th:id="option1"
                                  th:name="option1"
                                  th:text="${mockExam.option1}" class="form-textarea" required></textarea>
                    </label>
                </div>
                <div class="form-row">
                    <label th:for="option2">
                        2번
                        <textarea th:id="option2"
                                  th:name="option2"
                                  th:text="${mockExam.option2}" class="form-textarea" required></textarea>
                    </label>
                </div>
                <div class="form-row">
                    <label th:for="option3">
                        3번
                        <textarea th:id="option3"
                                  th:name="option3"
                                  th:text="${mockExam.option3}" class="form-textarea" required></textarea>
                    </label>
                </div>
                <div class="form-row">
                    <label th:for="option4">
                        4번
                        <textarea th:id="option4"
                                  th:name="option4"
                                  th:text="${mockExam.option4}" class="form-textarea" required></textarea>
                    </label>
                </div>

                <div class="form-row">
                    <label th:for="answer">
                        정답
                        <input type="text" th:id="answer" th:name="answer" th:value="${mockExam.answer}" class="form-input" required/>
                    </label>
                </div>

                <div class="form-row">
                    <label th:for="score">
                        점수
                        <input type="number" th:id="score" th:name="score" th:value="${mockExam.score}" min="0" max="100" class="form-input" required/>
                    </label>
                </div>

                <div class="form-row">
                    <label th:for="instructor">
                        강사
                        <select th:id="instructor" th:name="instructorId" class="form-select" required>
                            <option value="">강사를 선택하세요</option>
                            <option th:each="inst : ${instructors}"
                                    th:value="${inst.user_id}"
                                    th:text="${inst.nickname}"
                                    th:selected="${inst.user_id == mockExam.instructorId}">
                            </option>
                        </select>
                    </label>
                </div>

                <div class="form-actions" style="margin-top: 12px">
                    <button type="submit" class="btn" th:text="${mockExam.examId == null} ? '등록' : '수정'">
                        <i class="fa-solid fa-circle-check"></i> 저장
                    </button>

                    <a th:href="@{/admin/mock-exams}" class="btn-line">
                        <i class="fa-solid fa-list"></i> 목록
                    </a>
                </div>
            </form>
        </section>
    </div>
</main>
</body>
</html>
